<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    

<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>如何使用进度条(Java™ 教程-Java Tutorials 中文版&gt;使用 JFC/Swing 创建 GUI&gt;使用 Swing 组件)
</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
     <meta name="description" content="This Swing Java Tutorial describes developing graphical user interfaces (GUIs) for applications and applets using Swing components" />
     <meta name="keywords" content="java programming, learn java, java sample code, java swing, java ui, java user interface, swing components, swing events, swing layout  " />
        
<style type="text/css">
    body {
        margin-left:10px;
        margin-right:10px;
        line-height: 1.5;
        FONT-FAMILY: Arial, Helvetica, sans-serif; 
        font-size: 0.8em;
    }
    
    a:link{text-decoration:none; color:#09569d;}
    a:visited{text-decoration:none; color: #3a87cf;}
    a:hover{text-decoration:underline; }
        
    code{
        font-family:Monaco,Courier,"Courier New";
    }
    
    .header-container {
        background-color: #fff;
        border-bottom: 1px solid #C1CFDA;
        -webkit-box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
        box-shadow: 0 2px 2px rgba(117, 163, 231, 0.1);
    }
    
    .bookwrapper {
        width: auto;
        margin: auto;
    }
    
    .clearfix {
    }
    
    .clearfloat {
        clear: both;
        overflow: auto;
        height: 0px;
        font-size: 1px;
        line-height: 0px;
    }
    
    #brandProdName {
        width: auto;
        height: auto;
    }
    
    #logocover {
        display: block;
        background: transparent url(../../images/oracle-java-logo.png) 0px 0px no-repeat;
        height: 50px;
        width: 229px;
        float: left;
    }
    
    #productName {
        font-size: 16px;
        position: relative;
        top: 19px;
        padding-left: 3px;
        color: #457798;
        white-space: nowrap;
        width: 340px;
    }


    .FigureCaption   { 
        font-family: sans-serif; 
        text-align: center;
    }
    
    #TopBar_bl {        
        width: 100%;
        height: 60px;
    }
    #TopBar_br {
        width: 100%;
        height: 60px;
    }
    #TopBar_tl {
        margin-left: -110px;
        margin-right: -100px;       
		align: left;
        height: 60px;
    }
    #TopBar_tr {
        width: 100%;
        height: 60px;
    }
    
    #TopBar {
        min-width:700px;
        padding:25px 100px 10px;
        margin-bottom:25px;
        clear:both;
        
        border-bottom:1px solid #d2dde5;
        border-radius: 3px;
    
        background:#efefef; /* Old browsers */
        /* IE9 SVG, needs conditional override of 'filter' to 'none' */
        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlMmVmZjkiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);
        background: -moz-linear-gradient(top,  #ffffff 0%, #e2eff9 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ffffff), color-stop(100%,#e2eff9)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #ffffff 0%,#e2eff9 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #ffffff 0%,#e2eff9 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e2eff9',GradientType=0 ); /* IE6-8 */
        
    }
    
    #TopBar_left {
        line-height: 14px;
        position: absolute;
        padding-top: 30px;
        padding-right: 30px;
        padding-left: 30px;
        text-align: left;
        font: 13px/20px Arial, Helvetica, sans-serif;
        font-weight: bold;
        font-size: 20px;
        color: #333;
    }
    
    #TopBar_right {
        line-height: 12px;
        float: right;
        padding-top: 10px;
        padding-right: 30px;
        text-align: left;
    }
    

    @media print {
        #BreadCrumbs, #Download {
            display: none;
        }
    }
    
     
    @media print {
        #TopBar_right {
            display: none;
        }
    }
    #TopBar_right a {
        font-size: 10px;
        margin: 3px;
        padding: 0;
    }
 
    #BreadCrumbs {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
        float: right;
    }
    
    #BreadCrumbs a {
        color:#09569d;
    }
    
    #BreadCrumbs a:visited, #BreadCrumbs a:link {
        text-decoration: none;
    }
    
    #BreadCrumbs a:hover, #BreadCrumbs a:active {
        text-decoration: underline;
    }
    
    #PageTitle {
        margin: 0 5px 0.5em 0;
        color: #F90000;
    }
    
    #PageContent{
        margin: 0 5px 0 20px;
    }
    
    .LeftBar_shown {
        width: 13em;
        float: left;
    }
    
    @media print {
        .LeftBar_shown {
            display: none;
        }
    }
    
    .LeftBar_hidden {
        display: none;
    }
    
    #Footer {
        padding-top: 10px;
        padding-left: 10px;
        margin-right: 10px;       
    }
    
    .footertext {
        font-size: 10px;
        font-family: sans-serif; 
        margin-top: 1px;
    }

    .NavBit  {
        padding: 15px 5px 0.5em 0;
        font-family: sans-serif; 
    }
    
    @media print {
        .NavBit {
            display: none;
        }
    }
    
    #TagNotes {
        text-align: right;        
    }
    
    @media print {
        #TagNotes a:visited, #TagNotes a:link {
            color: #35556B;
            text-decoration: none;
        }
    }
    
    #Contents a, .NavBit a, #TagNotes a {
        color:#09569d;
    }
    
    #TagNotes a:visited, #TagNotes a:link,
    #Contents a:visited, #Contents a:link,
    .NavBit a:visited, .NavBit a:link {
        text-decoration: none;
    }
    
    #TagNotes a:hover, #TagNotes a:active,   
    #Contents a:hover, #Contents a:active,   
    .NavBit a:hover, .NavBit a:active {  
        text-decoration: underline;
    }
    
    #Contents {
        float: left;
        font-family: sans-serif; 
    }
    @media print {
        #Contents {
            display: none;
        }
    }
    @media screen {
        div.PrintHeaders {
            display: none;
        }
    }
    .linkLESSON, .nolinkLESSON {
        margin-left: 0.5em;
        text-indent: -0.5em;
    }
    .linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS   {
        margin-left: 1.5em; 
        text-indent: -0.5em
    }
    .linkBHEAD, .nolinkBHEAD   {
        margin-left: 2.5em;
        text-indent: -0.5em
    }
    .linkCHEAD, .nolinkCHEAD   {
        margin-left: 3.5em;
        text-indent: -0.5em
    }
    .nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD,
    .nolinkQUESTIONS {
        font-weight: bold;
        color: #333;
		
		
    }
    .MainFlow_indented {
        margin-right: 10px;
        margin-left: 15em;
        margin-bottom: 2em;

    }
    .MainFlow_wide {
	
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 2em;

    }
    @media print {
        .MainFlow_indented, .MainFlow_wide {
            padding-top: 0;
            margin-top: 10px;
            margin-right: 10px;
            margin-left: 0;
        }
    }
    h1, h2, h3, h4, h5 {
        color: #333;
        
    }

    h1 {
        font-weight: bold;
        font-size: 20px;
    }

    h2 {
        font-weight: bold;
        font-size: 17px;
    }

    h3 {
        font-weight: bold;
        font-size: 14px;
    }

    h4 {
        font-size: 15px;
    }

    h5 {
        font-size: 12px;
    }


    #ToggleLeft {
        display: none;
    }
    
    .note {
        margin: 0 30px 0px 30px;
    }
    
    .codeblock {
        margin: 0 30px 0px 30px;
		font-size:12px;
		font-family:Monaco,Courier,"Courier New";
    }
    
    .tocli {
        list-style-type:none;
    }

    .betadraft {
        color: red;
    }

</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "\n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    </head>
<body onload="load()">
    <noscript>
        这个页面需要一个启用 JavaScript 的浏览器才能正常运行。
    </noscript>
        <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">       
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName" >文档</div>
            </div> 
            <br class="clearfloat" />
        </div>
    </div>
    
    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br"> <div id="TopBar_bl"> 
                    <div id="TopBar_left">Java™ 教程-Java Tutorials 中文版</div>
                        <div id="TopBar_right"><!--
                            <a href="URL" target="_blank">External Link</a><br/>
                            --> 
                             
                            <a href="javascript:toggleLeft()" id="ToggleLeft">隐藏目录</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">使用 Swing 组件</a></div>
<div class="linkAHEAD"><a href="toplevel.html">使用顶级容器</a></div>
<div class="linkAHEAD"><a href="jcomponent.html">JComponent 类</a></div>
<div class="linkAHEAD"><a href="text.html">使用文本组件</a></div>
<div class="linkBHEAD"><a href="generaltext.html">文本组件功能</a></div>
<div class="linkBHEAD"><a href="textapi.html">文本组件 API</a></div>
<div class="linkAHEAD"><a href="componentlist.html">如何使用各种组件</a></div>
<div class="linkBHEAD"><a href="applet.html">如何制作 applet</a></div>
<div class="linkBHEAD"><a href="button.html">如何使用按钮，复选框和单选按钮</a></div>
<div class="linkBHEAD"><a href="buttongroup.html">如何使用 ButtonGroup 组件</a></div>
<div class="linkBHEAD"><a href="colorchooser.html">如何使用颜色选择器</a></div>
<div class="linkBHEAD"><a href="combobox.html">如何使用组合框</a></div>
<div class="linkBHEAD"><a href="dialog.html">如何制作对话框</a></div>
<div class="linkBHEAD"><a href="editorpane.html">如何使用编辑器窗格和文本窗格</a></div>
<div class="linkBHEAD"><a href="filechooser.html">如何使用文件选择器</a></div>
<div class="linkBHEAD"><a href="formattedtextfield.html">如何使用格式化文本框</a></div>
<div class="linkBHEAD"><a href="frame.html">如何制作框架(主窗口)</a></div>
<div class="linkBHEAD"><a href="internalframe.html">如何使用内部框架</a></div>
<div class="linkBHEAD"><a href="label.html">如何使用标签</a></div>
<div class="linkBHEAD"><a href="layeredpane.html">如何使用分层窗格</a></div>
<div class="linkBHEAD"><a href="list.html">如何使用列表</a></div>
<div class="linkBHEAD"><a href="menu.html">如何使用菜单</a></div>
<div class="linkBHEAD"><a href="panel.html">如何使用面板</a></div>
<div class="linkBHEAD"><a href="passwordfield.html">如何使用密码框</a></div>
<div class="nolinkBHEAD">如何使用进度条</div>
<div class="linkBHEAD"><a href="rootpane.html">如何使用根窗格</a></div>
<div class="linkBHEAD"><a href="scrollpane.html">如何使用滚动窗格</a></div>
<div class="linkBHEAD"><a href="separator.html">如何使用分隔符</a></div>
<div class="linkBHEAD"><a href="slider.html">如何使用滑块</a></div>
<div class="linkBHEAD"><a href="spinner.html">如何使用微调器</a></div>
<div class="linkBHEAD"><a href="splitpane.html">如何使用拆分窗格</a></div>
<div class="linkBHEAD"><a href="tabbedpane.html">如何使用选项卡式窗格</a></div>
<div class="linkBHEAD"><a href="table.html">如何使用表格</a></div>
<div class="linkBHEAD"><a href="textarea.html">如何使用文本区域</a></div>
<div class="linkBHEAD"><a href="textfield.html">如何使用文本框</a></div>
<div class="linkBHEAD"><a href="toolbar.html">如何使用工具栏</a></div>
<div class="linkBHEAD"><a href="tooltip.html">如何使用工具提示</a></div>
<div class="linkBHEAD"><a href="tree.html">如何使用树</a></div>
<div class="linkAHEAD"><a href="html.html">如何在 Swing 组件中使用 HTML</a></div>
<div class="linkAHEAD"><a href="model.html">如何使用模型</a></div>
<div class="linkAHEAD"><a href="icon.html">如何使用图标</a></div>
<div class="linkAHEAD"><a href="border.html">如何使用边框</a></div>
<div class="linkAHEAD"><a href="problems.html">解决常见的组件问题</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
    <div class="PrintHeaders">
        <b>Trail:</b> Creating a GUI With JFC/Swing
        <br /><b>Lesson:</b> Using Swing Components
        <br /><b>Section:</b> How to Use Various Components
    </div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">主页</a>&gt;<a href="../index.html" target="_top">使用 JFC/Swing 创建 GUI</a>&gt;<a href="index.html" target="_top">使用 Swing 组件</a>
            </div>
            <div class="NavBit">
                <a target="_top" href="passwordfield.html">«&nbsp;上一页</a>&nbsp;•&nbsp;<a target="_top" href="../TOC.html">路径</a>&nbsp;•&nbsp;<a target="_top" href="rootpane.html">下一页&nbsp;»</a>
            </div>
            <div class="Banner"><p style="background-color: rgb(247, 248, 249); border-width: 1px; padding: 10px; font-style: italic; border-style: solid; border-color: rgb(64, 74, 91);">Java 教程是为 JDK 8 编写的。本页中描述的示例和实践未利用在后续版本中引入的改进。</p></div>
            <div id="PageTitle"><h1>如何使用进度条</h1></div>
            <div id="PageContent">

<p>Sometimes a task running within a program might take a while to complete. A user-friendly program provides some indication to the user that the task is occurring, how long the task might take, and how much work has already been done. One way of indicating work, and perhaps the amount of progress, is to use an animated image.</p>
<p>Another way of indicating work is to set the wait cursor, using the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/Cursor.html"><code>Cursor</code></a> class and the <code>Component</code>-defined 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#setCursor-java.awt.Cursor-"><code>setCursor</code></a> method. For example, the following code makes the wait cursor be displayed when the cursor is over <code>container</code> (including any components it contains that have no cursor specified):</p>
<div class="codeblock"><pre>
container.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
</pre></div>
<p>To convey how complete a task is, you can use a progress bar like this one:</p>
<center><img src="../../figures/uiswing/components/progressbar.png" width="156" height="27" align="bottom" alt="A typical progress bar" /></center><p>Sometimes you can't immediately determine the length of a long-running task, or the task might stay stuck at the same state of completion for a long time. You can show work without measurable progress by putting the progress bar in <em>indeterminate mode.</em> A progress bar in indeterminate mode displays animation to indicate that work is occurring. As soon as the progress bar can display more meaningful information, you should switch it back into its default, determinate mode. In the Java look and feel, indeterminate progress bars look like this:</p>
<center><img src="../../figures/uiswing/components/indprogressbar.gif" width="148" height="21" align="bottom" alt="An indeterminate progress bar" /></center><p>Swing provides three classes to help you use progress bars:</p>
<dl>
<dt>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html"><strong><code>JProgressBar</code></strong></a></dt>
<dd>A visible component to graphically display how much of a total task has completed. See <a href="#bars">Using Determinate Progress Bars</a> for information and an example of using a typical progress bar. The section <a href="#indeterminate">Using Indeterminate Mode</a> tells you how to animate a progress bar to show activity before the task's scope is known.</dd>
<dt>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html"><strong><code>ProgressMonitor</code></strong></a></dt>
<dd><em>Not</em> a visible component. Instead, an instance of this class monitors the progress of a task and pops up a <a href="dialog.html">dialog</a> if necessary. See <a href="#monitors">How to Use Progress Monitors</a> for details and an example of using a progress monitor.</dd>
<dt>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitorInputStream.html"><strong><code>ProgressMonitorInputStream</code></strong></a></dt>
<dd>An input stream with an attached progress monitor, which monitors reading from the stream. You use an instance of this stream like any of the other input streams described in 
<a class="TutorialLink" target="_top" href="../../essential/io/index.html">Basic I/O</a>. You can get the stream's progress monitor with a call to <code>getProgressMonitor</code> and configure it as described in <a href="#monitors">How to Use Progress Monitors</a>.</dd>
</dl>
<p>After you see a progress bar and a progress monitor in action, <a href="#deciding">Deciding Whether to Use a Progress Bar or a Progress Monitor</a> can help you figure out which is appropriate for your application.</p>
<h2><a name="bars" id="bars">Using Determinate Progress Bars</a></h2>
<p>Here's a picture of a small demo application that uses a progress bar to measure the progress of a task that runs in its own thread:</p>
<center><img src="../../figures/uiswing/components/ProgressBarDemo.png" width="281" height="203" align="bottom" alt="A snapshot of ProgressBarDemo, which uses a progress bar" /></center><!-- *******  boilerplate stuff ******* -->
<div class="note"><hr /><strong>试试这个:</strong>&nbsp;<ul>
<li>Click the Launch button to run the ProgressBar Demo using 
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">Java™ Web Start</a> (<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">download JDK 7 or later</a>). Alternatively, to compile and run the example yourself, consult the <a href="../examples/components/index.html#ProgressBarDemo">example index</a>.<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/ProgressBarDemoProject/ProgressBarDemo.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="Launches the ProgressBar Demo example" /></a><br /></li>
</ul>
<hr /></div><!--  ******* end boilerplate stuff  *******  --><!-- 
<div class="note"><hr /><strong>Try this:</strong>&nbsp;<ol>
<li> <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/ProgressBarDemoProject/ProgressBarDemo.jnlp">Run ProgressBarDemo</a> (
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">download JDK 7 or later</a>).    Or, to compile and run the example yourself,
     consult the
     <a href="../examples/components/index.html#ProgressBarDemo">example index</a>.
<p>
<li> Push the <strong>Start</strong> button.
     The demo puts up a wait cursor
     and starts updating 
     the progress bar.
     The task displays its output in the text area
     at the bottom of the window.
</ol>
<hr /></div>
-->


<p>The following code, from 
<a class="SourceLink" target="_blank" href="../examples/components/ProgressBarDemoProject/src/components/ProgressBarDemo.java" onclick="showCode('../../displayCode.html', '../examples/components/ProgressBarDemoProject/src/components/ProgressBarDemo.java'); return false;"><code>ProgressBarDemo.java</code></a>, creates and sets up the progress bar:</p>
<div class="codeblock"><pre>
<em>//Where member variables are declared:</em>
JProgressBar progressBar;
...
<em>//Where the GUI is constructed:</em>
progressBar = new JProgressBar(0, task.getLengthOfTask());
progressBar.setValue(0);
progressBar.setStringPainted(true);
</pre></div>
<p>The constructor that creates the progress bar sets the progress bar's minimum and maximum values. You can also set these values with <code>setMinimum</code> and <code>setMaximum</code>. The minimum and maximum values used in this program are 0 and the length of the task, which is typical of many programs and tasks. However, a progress bar's minimum and maximum values can be any value, even negative. The code snippet also sets the progress bar's current value to 0. 
 
</p>
<p>The call to <code>setStringPainted</code> causes the progress bar to display, within its bounds, a textual indication of the percentage of the task that has completed. By default, the progress bar displays the value returned by its <code>getPercentComplete</code> method formatted as a percent, such as <strong>33%</strong>. Alternatively, you can replace the default with a different string by calling <code>setString</code>. 例如，</p>
<div class="codeblock"><pre>
if (<em>/*...half way done...*/</em>)
    progressBar.setString("Half way there!");
</pre></div>
<p>When the user clicks <b>Start</b>, an instance of the inner class <code>Task</code> is created and executed.</p>
<div class="codeblock"><pre>
public void actionPerformed(ActionEvent evt) {
    startButton.setEnabled(false);
    setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));
    done = false;
    <b>task = new Task();
    task.addPropertyChangeListener(this);
    task.execute();</b>
}
</pre></div>
<p><code>Task</code> is a subclass of 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html"><code>javax.swing.SwingWorker</code></a>. The <code>Task</code> instance does three important things for <code>ProgressBarDemo</code>:</p>
<ol>
<li>The instance invokes the <code>doInBackground</code> in a separate thread. This is where the long-running task is actually executed. Using a background thread instead of the event-dispatching thread prevents the user interface from freezing while the task is running.</li>
<li>When the background task is complete, the instance invokes the <code>done</code> method in the event-dispatching thread.</li>
<li>The instance maintains a bound property, <code>progress</code>, that is updated to indicate the progress of the task. The <code>propertyChange</code> method is invoked each time <code>progress</code> changes.</li>
</ol>
<p>See 
<a class="TutorialLink" target="_top" href="../concurrency/worker.html">Worker Threads and SwingWorker</a> in 
<a class="TutorialLink" target="_top" href="../concurrency/index.html">Concurrency in Swing</a> for more information about <code>SwingWorker</code>.</p>
<p>The background task in <code>ProgressBarDemo</code> simulates a real task by reporting random amounts of progress at random intervals. The <code>propertyChange</code> method responds to changes in the the task's <code>progress</code> property by updating the progress bar:</p>
<div class="codeblock"><pre>
public void propertyChange(PropertyChangeEvent evt) {
    if (!done) {
        int progress = task.getProgress();
        <b>progressBar.setValue(progress);</b>
        taskOutput.append(String.format(
                "Completed %d%% of task.\n", progress));
    }
</pre></div>
<p>When the background task is complete, the task's <code>done</code> method resets the progress bar:</p>
<div class="codeblock"><pre>
public void done() {
    //Tell progress listener to stop updating progress bar.
    done = true;
    Toolkit.getDefaultToolkit().beep();
    startButton.setEnabled(true);
    setCursor(null); //turn off the wait cursor
    <b>progressBar.setValue(progressBar.getMinimum());</b>
    taskOutput.append("Done!\n");
}
</pre></div>
<p>Note that the <code>done</code> method sets the <code>done</code> field to <code>true</code>, preventing <code>propertyChange</code> from making further updates to the progress bar. This is necessary because the final updates to the <code>progress</code> property may occcur after <code>done</code> is invoked.</p>
<h2><a name="indeterminate" id="indeterminate">Using Indeterminate Mode</a></h2>
<p>In <code>ProgressBarDemo2</code> indeterminate mode is set until actual progress begins:</p>
<div class="codeblock"><pre>
public void propertyChange(PropertyChangeEvent evt) {
    if (!done) {
        int progress = task.getProgress();
        if (progress == 0) {
            <b>progressBar.setIndeterminate(true);</b>
            taskOutput.append("No progress yet\n");
        } else {
            <b>progressBar.setIndeterminate(false); </b>
            progressBar.setString(null);
            progressBar.setValue(progress);
            taskOutput.append(String.format(
                    "Completed %d%% of task.\n", progress));
        }
    }
}
</pre></div>
<p>The other changes in the code are related to string display. A progress bar that displays a string is likely to be taller than one that doesn't, and, as the demo designers, we've arbitarily decided that this progress bar should display a string only when it's in the default, determinate mode. However, we want to avoid the layout ugliness that might result if the progress bar changed height when it changed modes. Thus, the code leaves in the call to <code>setStringPainted(true)</code> but adds a call to <code>setString("")</code> so that no text will be displayed. Later, when the progress bar switches from indeterminate to determinate mode, invoking <code>setString(null)</code> makes the progress bar display its default string.</p>
<p>One change we did <em>not</em> make was removing the call to <code>progressBar.setValue</code> from the <code>progress</code> event handler. The call doesn't do any harm because an indeterminate progress bar doesn't use its value property, except perhaps to display it in the status string. In fact, keeping the progress bar's data as up-to-date as possible is a good practice, since some look and feels might not support indeterminate mode.</p><!-- *******  boilerplate stuff ******* -->

<div class="note"><hr /><strong>试试这个:</strong>&nbsp;<ol>
<li>Click the Launch button to run the ProgressBar2 Demo using 
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">Java™ Web Start</a> (<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">download JDK 7 or later</a>). Alternatively, to compile and run the example yourself, consult the <a href="../examples/components/index.html#ProgressBarDemo2">example index</a>.<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/ProgressBarDemo2Project/ProgressBarDemo2.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="Launches the ProgressBar2 Demo example" /></a><br /></li>
<li>Push the <strong>Start</strong> button. Note that the progress bar starts animating as soon as the button is pressed, and then switches back into determinate mode (like ProgressBarDemo).</li>
</ol>
<hr /></div><!--  ******* end boilerplate stuff  *******  --><!--

<div class="note"><hr /><strong>Try this:</strong>&nbsp;<ol>
<li> <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/ProgressBarDemo2Project/ProgressBarDemo2.jnlp">Run ProgressBarDemo2</a> (
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">download JDK 7 or later</a>).    Or, to compile and run the example yourself,
     consult the
     <a href="../examples/components/index.html#ProgressBarDemo2">example index</a>.

<p>
<li> Push the <strong>Start</strong> button.
     Note that the progress bar starts animating as soon as
     the button is pressed,
     and then switches back into
     determinate mode (like ProgressBarDemo).
</ol>
<hr /></div>
-->


<h2><a name="monitors" id="monitors">How to Use Progress Monitors</a></h2>
<p>Now let's rewrite ProgressBarDemo to use a progress monitor instead of a progress bar. Here's a picture of the new demo program, ProgressMonitorDemo:</p>
<center><img src="../../figures/uiswing/components/ProgressMonitorDemo.png" width="469" height="267" align="bottom" alt="A snapshot of ProgressMonitorDemo and a dialog brought up by a progress monitor" /></center><!-- *******  boilerplate stuff ******* -->
<div class="note"><hr /><strong>试试这个:</strong>&nbsp;<ol>
<li>Click the Launch button to run the ProgressMonitor Demo using 
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/javawebstart/index.html">Java™ Web Start</a> (<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">download JDK 7 or later</a>). Alternatively, to compile and run the example yourself, consult the <a href="../examples/components/index.html#ProgressMonitorDemo">example index</a>.<a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/ProgressMonitorDemoProject/ProgressMonitorDemo.jnlp"><img src="../../images/jws-launch-button.png" width="88" height="23" align="bottom" alt="Launches the ProgressMonitor Demo example" /></a><br /></li>
<li>Push the <strong>Start</strong> button. After a certain amount of time, the program displays a progress dialog.</li>
<li>Click the <strong>OK</strong> button. Note that the task continues even though the dialog is gone.</li>
<li>Start another task. After the dialog pops up, click the <strong>Cancel</strong> button. The dialog goes away and the task stops.</li>
</ol>
<hr /></div><!--  ******* end boilerplate stuff  *******  --><!-- 
<div class="note"><hr /><strong>Try this:</strong>&nbsp;<ol>
<li> <a href="https://docs.oracle.com/javase/tutorialJWS/samples/uiswing/ProgressMonitorDemoProject/ProgressMonitorDemo.jnlp">Run ProgressMonitorDemo</a> (
<a class="OutsideLink" target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">download JDK 7 or later</a>).    Or, to compile and run the example yourself,
     consult the
     <a href="../examples/components/index.html#ProgressMonitorDemo">example index</a>.
 
<li> Push the <strong>Start</strong> button.
     After a certain amount of time, the program displays a progress dialog.

<li> Click the <strong>OK</strong> button.
     Note that the task continues even though the dialog is gone.

<li> Start another task. After the dialog pops up,
     click the <strong>Cancel</strong> button.
     The dialog goes away and the task stops.

</ol>
<hr /></div>
-->


<p>A progress monitor cannot be used again, so a new one must be created each time a new task is started. This program creates a progress monitor each time the user starts a new task with the <strong>Start</strong> button.</p>
<p>Here's the statement that creates the progress monitor:</p>
<div class="codeblock"><pre>
progressMonitor = new ProgressMonitor(ProgressMonitorDemo.this,
                                      "Running a Long Task",
                                      "", 0, task.getLengthOfTask());
</pre></div>
<p>This code uses <code>ProgressMonitor</code>'s only constructor to create the monitor and initialize several arguments:</p>
<ul>
<li>The first argument provides the parent component to the dialog popped up by the progress monitor.</li>
<li>The second argument is a string that describes the nature of the task being monitored. This string is displayed on the dialog. see <a href="#api">The Progress Monitoring API</a> for details about this argument.</li>
<li>The third argument is another string that provides a changeable status note. The example uses an empty string to indicate that the dialog should make space for a changeable status note, but that the note is initially empty. If you provide <code>null</code> for this argument, the note is omitted from the dialog. The example updates the note each time the <code>progress</code> property changes. It updates the monitor's current value at the same time:

<div class="codeblock"><pre>
int progress = task.getProgress();
String message = String.format("Completed %d%%.\n", progress);
<b>progressMonitor.setNote(message);
progressMonitor.setProgress(progress);</b>
taskOutput.append(message);
</pre></div>
</li>
<li>The last two arguments provide the minimum and maximum values, respectively, for the progress bar displayed in the dialog.</li>
</ul>
<p>By default, a progress monitor waits a minium of 500 milliseconds before deciding whether to pop up the dialog. It also waits for the progress to become more than the minimum value. If it calculates that the task will take more than 2000 milliseconds to complete, the progress dialog appears. To adjust the minimum waiting period, invoke <code>setMillisToDecidedToPopup</code>. To adjust the minimum progress time required for a dialog to appear, invoke <code>setMillisToPopup</code>.</p>
<p>By the simple fact that this example uses a progress monitor, it adds a feature that wasn't present in the version of the program that uses a progress bar: The user can cancel the task by clicking the <strong>Cancel</strong> button on the dialog. Here's the code in the example that checks to see if the user canceled the task or if the task exited normally:</p>
<div class="codeblock"><pre>
if (progressMonitor.isCanceled() || task.isDone()) {
    progressMonitor.close();
    Toolkit.getDefaultToolkit().beep();
    if (progressMonitor.isCanceled()) {
        task.cancel(true);
        taskOutput.append("Task canceled.\n");
    } else {
        taskOutput.append("Task completed.\n");
    }
    startButton.setEnabled(true);
}
</pre></div>
<p>Note that the progress monitor doesn't itself cancel the task. It provides the GUI and API to allow the program to do so easily.</p>
<h2><a name="deciding" id="deciding">Deciding Whether to Use a Progress Bar or a Progress Monitor</a></h2>
<p>Use a <em>progress bar</em> if:</p>
<ul>
<li>You want more control over the configuration of the progress bar. If you are working directly with a progress bar, you can set it to be indeterminate, make it display vertically, provide a string for it to display, register change listeners on it, and provide it with a bounded range model to control the progress bar's minimum, maximum, and current values.</li>
<li>The program needs to display other components along with the progress bar.</li>
<li>You need more than one progress bar. With some tasks, you need to monitor more than one parameter. For example, an installation program might monitor disk space usage in addition to how many files have been successfully installed.</li>
<li>You need to reuse the progress bar. A progress bar can be reused; a progress monitor cannot. Once the progress monitor has decided to display a dialog (or not), the progress monitor cannot do it again.</li>
</ul>
<p>Use a <em>progress monitor</em> if:</p>
<ul>
<li>You want an easy way to display progress in a <a href="dialog.html">dialog</a>.</li>
<li>The running task is secondary and the user might not be interested in the progress of the task. Progress monitor provides a way for the user to dismiss the dialog while the task is still running.</li>
<li>You want an easy way for the task to be cancelled. Progress monitor provides a GUI for the user to cancel the task. All you have to do is call progress monitor's <code>isCanceled</code> method to find out if the user pressed the <strong>Cancel</strong> button.</li>
<li>Your task displays a short message periodically while running. The progress monitor dialog provides the <code>setNote</code> method so that the task can provide further information about what it's doing. For example, an installation task might report the name of each file as it's installed.</li>
<li>The task might not take a long time to complete. You decide at what point a running task is taking long enough to warrant letting the user know about it. Progress monitor won't pop up a dialog if the task completes within the timeframe you set.</li>
</ul>
<p>If you decide to use a progress monitor <em>and</em> the task you are monitoring is reading from an input stream, use the 
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitorInputStream.html"><strong><code>ProgressMonitorInputStream</code></strong></a> class.</p>
<h2><a name="api" id="api">The Progress Monitoring API</a></h2>
<p>The following tables list the commonly used API for using progress bars and progress monitors. Because <code>JProgressBar</code> is a subclass of <code>JComponent</code>, other methods you are likely to call on a <code>JProgressBar</code> are listed in <a href="jcomponent.html">The JComponent Class</a>. Note that <code>ProgressMonitor</code> is a subclass of <code>Object</code> and is not a visual component.</p>
<p>The API for monitoring progress falls into these categories:</p>
<ul>
<li><a href="#progressbarapi">Creating the Progress Bar</a></li>
<li><a href="#contentsapi">Setting or Getting the Progress Bar's Constraints/Values</a></li>
<li><a href="#looksapi">Controlling the Progress Bar's Appearance</a></li>
<li><a href="#progressmonapi">Creating the Progress Monitor</a></li>
<li><a href="#monitorapi">Configuring the Progress Monitor</a></li>
<li><a href="#terminateapi">Terminating the Progress Monitor</a></li>
</ul>
<table border="1" summary="methods for creating the progress bar">
<caption><a name="progressbarapi" id="progressbarapi">Creating the Progress Bar</a></caption>
<tr>
<th>构造函数</th>
<th>目的</th>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#JProgressBar--">JProgressBar()</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#JProgressBar-int-int-">JProgressBar(int, int)</a></td>
<td>Create a horizontal progress bar. The no-argument constructor initializes the progress bar with a minimum and initial value of 0 and a maximum of 100. The constructor with two integer arguments specifies the minimum and maximum values.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#JProgressBar-int-">JProgressBar(int)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#JProgressBar-int-int-int-">JProgressBar(int, int, int)</a></td>
<td>Create a progress bar with the specified orientation, which can be either <code>JProgressBar.HORIZONTAL</code> or <code>JProgressBar.VERTICAL</code>. The optional second and third arguments specify minimum and maximum values.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#JProgressBar-javax.swing.BoundedRangeModel-">JProgressBar(BoundedRangeModel)</a></td>
<td>Create a horizontal progress bar with the specified range model.</td>
</tr>
</table>
<table border="1" summary="methods for setting or getting the progress bar's constraints/values">
<caption><a name="contentsapi" id="contentsapi">Setting or Getting the Progress Bar's Constraints/Values</a></caption>
<tr>
<th>方法</th>
<th>目的</th>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setValue-int-">void setValue(int)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getValue--">int getValue()</a></td>
<td>Set or get the current value of the progress bar. The value is constrained by the minimum and maximum values.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getPercentComplete--">double getPercentComplete()</a></td>
<td>Get the percent complete for the progress bar.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setMinimum-int-">void setMinimum(int)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getMinimum--">int getMinimum()</a></td>
<td>Set or get the minimum value of the progress bar.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setMaximum-int-">void setMaximum(int)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getMaximum--">int getMaximum()</a></td>
<td>Set or get the maximum value of the progress bar.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setModel-javax.swing.BoundedRangeModel-">void setModel(BoundedRangeModel)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getModel--">BoundedRangeModel getModel()</a></td>
<td>Set or get the model used by the progress bar. The model establishes the progress bar's constraints and values, so you can use it directly as an alternative to using the individual set/get methods listed above.</td>
</tr>
</table>
<table border="1" summary="methods for controlling the progress bar">
<caption><a name="looksapi" id="looksapi">Controlling the Progress Bar's Appearance</a></caption>
<tr>
<th>方法</th>
<th>目的</th>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setIndeterminate-boolean-">void setIndeterminate(boolean)</a></td>
<td>By specifying <code>true</code>, put the progress bar into indeterminate mode. Specifying <code>false</code> puts the progress bar back into its default, determinate mode.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setOrientation-int-">void setOrientation(int)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getOrientation--">int getOrientation()</a></td>
<td>Set or get whether the progress bar is vertical or horizontal. Acceptable values are <code>JProgressBar.VERTICAL</code> or <code>JProgressBar.HORIZONTAL</code>.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setBorderPainted-boolean-">void setBorderPainted(boolean)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#isBorderPainted--">boolean isBorderPainted()</a></td>
<td>Set or get whether the progress bar has a border.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setStringPainted-boolean-">void setStringPainted(boolean)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#isStringPainted--">boolean isStringPainted()</a></td>
<td>Set or get whether the progress bar displays a percent string. By default, the value of the percent string is the value returned by <code>getPercentComplete</code> formatted as a percent. You can set the string to be displayed with <code>setString</code>.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setString-java.lang.String-">void setString(String)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getString--">String getString()</a></td>
<td>Set or get the percent string.</td>
</tr>
</table>
<table border="1" summary="methods for creating the progress monitor">
<caption><a name="progressmonapi" id="progressmonapi">Creating the Progress Monitor</a></caption>
<tr>
<th>Method or Constructor</th>
<th>目的</th>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html#ProgressMonitor-java.awt.Component-java.lang.Object-java.lang.String-int-int-">ProgressMonitor(Component, Object, String, int, int)</a></td>
<td>Create a progress monitor. The <code>Component</code> argument is the parent for the monitor's dialog. The <code>Object</code> argument is a message to put on the <a href="dialog.html">option pane</a> within the dialog. The value of this object is typically a <code>String</code>. The <code>String</code> argument is a changeable status note. The final two <code>int</code> arguments set the minimum and maximum values, respectively, for the progress bar used in the dialog.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitorInputStream.html#getProgressMonitor--">ProgressMonitor getProgressMonitor()</a><br />
<em>(in <code>ProgressMonitorInputStream</code>)</em></td>
<td>Gets a progress monitor that monitors reading from an input stream.</td>
</tr>
</table>
<table border="1" summary="methods for configuring the progress monitor">
<caption><a name="monitorapi" id="monitorapi">Configuring the Progress Monitor</a></caption>
<tr>
<th>方法</th>
<th>目的</th>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setMinimum-int-">void setMinimum(int)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getMinimum--">int getMinimum()</a></td>
<td>Set or get the minimum value of the progress monitor. This value is used by the monitor to set up the progress bar in the dialog.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#setMaximum-int-">void setMaximum(int)</a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html#getMaximum--">int getMaximum()</a></td>
<td>Set or get the maximum value of the progress monitor. This value is used by the monitor to set up the progress bar in the dialog.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html#setProgress-int-">void setProgress(int)</a></td>
<td>Update the monitor's progress.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html#setNote-java.lang.String-"><code>void setNote(String)</code></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html#getNote--"><code>String getNote()</code></a></td>
<td>Set or get the status note. This note is displayed on the dialog. To omit the status note from the dialog, provide <code>null</code> as the third argument to the monitor's constructor.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html#setMillisToDecideToPopup-int-"><code>void setMillisToDecideToPopup(int)</code></a><br />
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html#getMillisToDecideToPopup--"><code>int getMillisToDecideToPopup()</code></a></td>
<td>Set or get the time after which the monitor should decide whether to popup a dialog.</td>
</tr>
</table>
<table border="1" summary="methods for terminating the progress monitor">
<caption><a name="terminateapi" id="terminateapi">Terminating the Progress Monitor</a></caption>
<tr>
<th>方法</th>
<th>目的</th>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html#close--"><code>void close()</code></a></td>
<td>Close the progress monitor. This disposes of the dialog.</td>
</tr>
<tr>
<td>
<a class="APILink" target="_blank" href="https://docs.oracle.com/javase/8/docs/api/javax/swing/ProgressMonitor.html#isCanceled--"><code>boolean isCanceled()</code></a></td>
<td>Determine whether the user pressed the <strong>Cancel</strong> button.</td>
</tr>
</table>
<h2><a name="eg" id="eg">Examples that Monitor Progress</a></h2>
<p>This following examples use <code>JProgressBar</code> or <code>ProgressMonitor</code>.</p>
<table summary="Information about examples">
<tr>
<th align="left">例子</th>
<th align="left">Where Described</th>
<th align="left">Notes</th>
</tr>
<tr>
<td><a href="../examples/components/index.html#ProgressBarDemo"><code>ProgressBarDemo</code></a></td>
<td>This section</td>
<td>Uses a basic progress bar to show progress on a task running in a separate thread.</td>
</tr>
<tr>
<td><a href="../examples/components/index.html#ProgressBarDemo2"><code>ProgressBarDemo2</code></a></td>
<td>This section</td>
<td>Uses a basic progress bar to show progress on a task running in a separate thread.</td>
</tr>
<tr>
<td><a href="../examples/components/index.html#ProgressMonitorDemo"><code>ProgressMonitorDemo</code></a></td>
<td>This section</td>
<td>Modification of the previous example that uses a progress monitor instead of a progress bar.</td>
</tr>
</table>

<p>If you are programming in JavaFX, see
<a class="OutsideLink" target="_blank" href="https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/progress.htm">Progress Bar and Progress Indicator</a>.</p>



        </div>
        <div class="NavBit">
            <a target="_top" href="passwordfield.html">« 上一页</a>•<a target="_top" href="../TOC.html">路径</a>•<a target="_top" href="rootpane.html">下一页 »</a>
        </div>
    </div>
    
<hr class="clearfloat"/>

<div id="Footer">

<p class="footertext">
<a href="http://www.oracle.com/corporate/index.html">About Oracle</a>| <a href="http://www.oracle.com/us/corporate/contact/index.html">Contact Us</a> | <a href="http://www.oracle.com/us/legal/index.html">Legal Notices</a> | <a href="http://www.oracle.com/us/legal/terms/index.html">Terms of Use</a> | <a href="http://www.oracle.com/us/legal/privacy/index.html">Your Privacy Rights</a> | <a href="https://www.pingfangx.com/xx/translation/java_tutorial">关于汉化</a></p>

<p class="footertext"><a href="http://www.oracle.com/pls/topic/lookup?ctx=cpyr&id=en-US">

Copyright © 1995, 2017 Oracle and/or its affiliates. All rights reserved.</a></p>
       
</div>    
    <div class="PrintHeaders">
        <b>Previous page:</b> How to Use Password Fields
        <br /><b>Next page:</b> How to Use Root Panes
    </div>
</body>
</html> 
